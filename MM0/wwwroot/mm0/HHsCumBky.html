<template>
    <dom-bind id="HHsCumBky">
        <template is="dom-bind">
            <div class="gridTbl">
                <div class="gridTbl_header">
                    <iron-icon icon="vaadin:abacus"></iron-icon>
                    <div>[[model.Hdr]]</div>
                    <button class="download" value="{{model.DwnldTrgr$::click}}" onmousedown="++this.value"><iron-icon icon="vaadin:download"></iron-icon></button>
                </div>
                <div class="gridTbl_main">
                    <div>Aylık Toplamlar</div>
                    <table id="HHsCumBkyTbl" class="fixTbl">
                        <thead>
                            <tr>
                                <th rowspan="2">Yıl</th>
                                <th rowspan="2">Ay</th>
                                <th colspan="3">Gerçek</th>
                                <th colspan="3">Beklenen</th>
                                <th rowspan="2">Adet</th>
                            </tr>
                            <tr>
                                <th>Gelir</th>
                                <th>Gider</th>
                                <th>Kalan</th>
                                <th>Gelir</th>
                                <th>Gider</th>
                                <th>Kalan</th>
                            </tr>
                        </thead>
                        <tbody>
                            <template is="dom-repeat" items="{{model.AAs}}">
                                <tr>
                                    <td class="txtCenter">[[item.Yil]]</td>
                                    <td class="txtCenter">[[item.Ay]]</td>
                                    <td class="txtRight">[[item.GlrX]]</td>
                                    <td class="txtRight">[[item.GdrX]]</td>
                                    <td class="txtRight">[[item.CumBkyX]]</td>
                                    <td class="txtRight">[[item.BklGlrX]]</td>
                                    <td class="txtRight">[[item.BklGdrX]]</td>
                                    <td class="txtRight">[[item.BklCumBkyX]]</td>
                                    <td class="txtRight">[[item.Adt]]</td>
                                </tr>
                            </template>
                        </tbody>
                    </table>
                </div>
            </div>
            <palindrom-redirect is="palindrom-redirect" download url="{{model.MorphUrl$}}"></palindrom-redirect>
        </template>
    </dom-bind>
    <script>
        // Kullanılmıyor ORNEK
        console.log("MasterPage");
        var tmplt = (document._currentScript || document.currentScript).previousElementSibling;  // Global

        tmplt.MyDownload = function (e) {
            e.stopImmediatePropagation(); //stopPropagation();
            window.open(e.target.dataLink, '_self');
        }

    </script>
</template>

