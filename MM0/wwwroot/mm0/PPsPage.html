<template>
    <dom-bind id="PPsPage">
        <template is="dom-bind">
            <paper-dialog opened="[[model.PP.Opened]]" modal="true">
                <div class="mdfDlg">
                    <table class="mdfRecTbl">
                        <tbody>
                            <tr>
                                <td>Rec#</td>
                                <td><input placeholder="Id" type="text" value="[[model.PP.Id]]" readonly style="text-align:center" /></td>
                            </tr>
                            <tr>
                                <td>Ad</td>
                                <td><input placeholder="Ad" type="text" value="{{model.PP.Ad$::change}}" /></td>
                            </tr>
                            <tr>
                                <td>Başlangıç</td>
                                <td><input placeholder="Başlangıç" type="date" value="{{model.PP.BasTrhX$::change}}" /></td>
                            </tr>
                            <tr>
                                <td>Bitiş</td>
                                <td><input placeholder="Bitiş" type="date" value="{{model.PP.BitTrhX$::change}}" /></td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="mdfRecAction">
                        <template is="dom-if" if="[[model.PP.IsNew]]">
                            <button value="{{model.PP.InsTrgr$::click}}" onmousedown="++this.value">Insert</button>
                        </template>
                        <template is="dom-if" if="[[!model.PP.IsNew]]">
                            <button value="{{model.PP.InsTrgr$::click}}" onmousedown="++this.value">Duplicate</button>
                            <button value="{{model.PP.UpdTrgr$::click}}" onmousedown="++this.value">Update</button>
                            <button value="{{model.PP.DelTrgr$::click}}" onmousedown="++this.value">Delete</button>
                        </template>
                    </div>

                    <div class="mdfRecAction">
                        <button dialog-dismiss value="{{model.pp.RejTrgr$::click}}" onmousedown="++this.value">Vazgeç</button>
                    </div>

                    <div class="mdfRecAction">
                        <div>[[model.FF.Msj]]</div>
                    </div>
                </div>
            </paper-dialog>


            <div class="gridTbl">
                <div class="gridTbl_header">
                    <iron-icon icon="vaadin:factory"></iron-icon>
                    <div>[[model.Hdr]]</div>
                    <button class="insert" value="{{model.PP.NewTrgr$::click}}" onmousedown="++this.value"><iron-icon icon="vaadin:insert"></iron-icon></button>
                </div>
                <div class="gridTbl_main">
                    <table id="PPsPageTbl" class="fixTbl">
                        <thead>
                            <tr>
                                <th rowspan="2"></th>
                                <th rowspan="2">Ad</th>
                                <th rowspan="2"></th>
                                <th colspan="2">Gerçek</th>
                                <th colspan="2">Tahmin</th>
                                <th colspan="2">Tarih</th>
                                <th rowspan="2"></th>
                                <th rowspan="2"></th>
                            </tr>
                            <tr>
                                <th>Gider</th>
                                <th>Gelir</th>
                                <th>Gider</th>
                                <th>Gelir</th>
                                <th class="tarih">Başlangıç</th>
                                <th class="tarih">Bitiş</th>
                            </tr>
                        </thead>
                        <tfoot>
                            <tr>
                                <td></td>
                                <td colspan="2" class="txtRight">TOPLAM</td>
                                <td class="txtRight">[[model.GrcGdrTopX]]</td>
                                <td class="txtRight">[[model.GrcGlrTopX]]</td>
                                <td class="txtRight">[[model.ThmGdrTopX]]</td>
                                <td class="txtRight">[[model.ThmGlrTopX]]</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                        </tfoot>
                        <tbody>
                            <template is="dom-repeat" items="{{model.PPs}}">
                                <tr>
                                    <td class="icon"><a href="/mm0/FFs/[[item.Id]]"><iron-icon icon="vaadin:money-exchange"></iron-icon></a></td>
                                    <td>[[item.Ad]]</td>
                                    <td class="icon"><a href="/mm0/HHs/[[item.Id]]"><iron-icon icon="vaadin:file-tree"></iron-icon></a></td>
                                    <td class="txtRight">[[item.GrcGdrX]]</td>
                                    <td class="txtRight">[[item.GrcGlrX]]</td>
                                    <td class="txtRight">[[item.ThmGdrX]]</td>
                                    <td class="txtRight">[[item.ThmGlrX]]</td>
                                    <td class="txtCenter">[[item.BasTrhX]]</td>
                                    <td class="txtCenter">[[item.BitTrhX]]</td>
                                    <td class="icon"><a href="/mm0/FFsRpr?ppid=[[item.Id]]"><iron-icon icon="vaadin:cash"></iron-icon></a></td>
                                    <td class="icon"><button class="edit" value="{{item.EdtTrgr$::click}}" onmousedown="++this.value"><iron-icon icon="vaadin:edit"></iron-icon></button></td>
                                </tr>
                            </template>
                        </tbody>
                    </table>
                </div>
            </div>

        </template>
    </dom-bind>
</template>

