<link rel="import" href="/sys/juicy-select/juicy-select.html">

<template>
    <dom-bind id="FFsPage">
        <template is="dom-bind">
            <paper-dialog opened="[[model.FF.Opened]]" modal="true">
                <div class="mdfRecWrap">
                    <label>Rec#</label>
                    <input placeholder="Id" type="text" value="[[model.FF.Id]]" readonly style="text-align:center" />
                    <label>Tarih</label>
                    <input placeholder="Tarih" type="date" value="{{model.FF.TrhX$::change}}" />
                    <label>Hesap</label>
                    <juicy-select caption-text="Hesap" value="{{model.FF.HHId$}}" options="{{model.HHs}}" text-property="Ad" value-property="Id"></juicy-select>
                    <label>Gider</label>
                    <input placeholder="Gider" type="number" value="{{model.FF.Gdr$::change}}" />
                    <label>Gelir</label>
                    <input placeholder="Gelir" type="number" value="{{model.FF.Glr$::change}}" />
                    <label>Açıklama</label>
                    <input placeholder="Açıklama" type="text" value="{{model.FF.Ad$::change}}" size="40" />
                </div>
                <div class="mdfRecAction">
                    <template is="dom-if" if="[[model.FF.IsNew]]">
                        <button value="{{model.FF.InsTrgr$::click}}" onmousedown="++this.value">Insert</button>
                    </template>
                    <template is="dom-if" if="[[!model.FF.IsNew]]">
                        <button value="{{model.FF.InsTrgr$::click}}" onmousedown="++this.value">Duplicate</button>
                        <button value="{{model.FF.UpdTrgr$::click}}" onmousedown="++this.value">Update</button>
                        <button value="{{model.FF.DelTrgr$::click}}" onmousedown="++this.value">Delete</button>
                    </template>
                </div>
                <div class="mdfRecAction">
                    <button dialog-dismiss value="{{model.FF.RejTrgr$::click}}" onmousedown="++this.value" style="width:100%">Vazgeç</button>
                </div>
            </paper-dialog>


            <div class="gridTbl">
                <div class="gridTbl_header">
                    <iron-icon icon="vaadin:money-exchange"></iron-icon>
                    <div>[[model.Hdr]]</div>
                    <button class="insert" value="{{model.FF.NewTrgr$::click}}" onmousedown="++this.value"><iron-icon icon="vaadin:insert"></iron-icon></button>
                    <input type="date" value="{{model.QryTrhX$::change}}" />
                </div>
                <div class="gridTbl_main">
                    <table id="FFsPageTbl" class="fixTbl">
                        <colgroup>
                            <col style="width:5rem" />
                            <col style="width:12rem" />

                            <col style="width:7rem" />
                            <col style="width:7rem" />

                            <col style="width:15rem" />

                            <col style="width:4rem" />

                            <col style="width:2.8rem" />

                        </colgroup>
                        <thead>
                            <tr>
                                <th>Tarih</th>
                                <th>Hesap</th>
                                <th>Gider</th>
                                <th>Gelir</th>
                                <th>Açıklama</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <template is="dom-repeat" items="{{model.FFs}}">
                                <tr>
                                    <td class="txtCenter"><a href="/mm0/FFsRprTrh/[[model.PPId]]/[[item.TrhZ]]">[[item.TrhX]]</a></td>
                                    <td><a href="/mm0/FFsRprHsp/[[model.PPId]]/[[item.HHId]]">[[item.HHAd]]</a></td>
                                    <td class="txtRight">[[item.GdrX]]</td>
                                    <td class="txtRight">[[item.GlrX]]</td>
                                    <td>[[item.Ad]]</td>
                                    <td><button class="edit" value="{{item.EdtTrgr$::click}}" onmousedown="++this.value"><iron-icon icon="vaadin:edit"></iron-icon></button></td>
                                </tr>
                            </template>
                        </tbody>
                        <tfoot>
                            <tr>
                                <td></td>
                                <td class="txtRight">[[model.NORX]]</td>
                                <td class="txtRight">[[model.GdrTopX]]</td>
                                <td class="txtRight">[[model.GlrTopX]]</td>
                                <td></td>
                                <td></td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>

        </template>
    </dom-bind>
</template>

